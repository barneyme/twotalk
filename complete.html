<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Two Talk</title>
        <link
            rel="icon"
            href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='80' font-size='70' fill='%23cc5500' font-family='Courier New, monospace' font-weight='bold'>TT</text></svg>"
        />
        <style>
            :root {
                --orange: #cc5500;
                --bg: #fdfdfd;
                --text: #222;
                --gray: #f4f4f4;
                --border: #ddd;
            }

            * {
                box-sizing: border-box;
                font-family: "Courier New", monospace;
                font-size: 14px;
                line-height: 1.2;
            }
            .header-container {
                display: flex;
                justify-content: space-between; /* Keeps H1 left and links right */
                align-items: center;
                margin-bottom: 20px;
            }

            .basic-link {
                color: var(--orange);
                text-decoration: none;
                font-weight: bold;
                border: 1px solid var(--border);
                padding: 4px 12px;
                border-radius: 4px;
            }

            .basic-link:hover {
                background: var(--gray);
            }
            body {
                background: var(--bg);
                color: var(--text);
                padding: 15px;
                max-width: 1100px;
                margin: auto;
            }

            h1 {
                font-size: 1.4em;
                color: var(--orange);
                margin: 0 0 20px 0;
                font-weight: bold;
            }

            h3 {
                color: var(--orange);
                margin: 0 0 10px 0;
                font-weight: bold;
                text-transform: uppercase;
                border-bottom: 1px solid var(--border);
                padding-bottom: 4px;
            }

            .top-row {
                display: flex;
                gap: 20px;
                margin-bottom: 20px;
                align-items: stretch;
                flex-wrap: wrap; /* Add this to allow boxes to stack vertically */
            }

            .box {
                flex: 1;
                min-width: 300px; /* Ensure boxes don't get narrower than 300px */
                background: var(--gray);
                padding: 12px;
                border: 1px solid var(--border);
                border-radius: 4px;
            }

            /* Update the roots-table to use three auto-sizing columns */
            .roots-table {
                display: grid;
                grid-template-columns: auto auto auto; /* Each column fits its content */
                gap: 0 15px;
                align-items: center;
            }

            /* Ensure each cell stays on one line and doesn't wrap or overlap */
            .root-cell {
                white-space: nowrap; /* Forces text to stay on one line */
                padding: 2px 0;
            }

            /* Adjust the root-row to display as a contents-wrapper for the grid */
            .root-row {
                display: contents; /* Allows the children to align to the parent grid */
            }

            /* Optional: Add a media query to stack them if the screen is too narrow for three columns */
            @media (max-width: 500px) {
                .roots-table {
                    grid-template-columns: auto auto auto;
                    font-size: 12px; /* Slightly smaller text for very small screens */
                }
            }

            #onboarding {
                white-space: pre-wrap;
                margin: 0;
                display: block;
            }

            input {
                width: 100%;
                padding: 10px;
                margin-bottom: 15px;
                border: 1px solid var(--border);
                background: white;
            }

            .word-list {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                gap: 4px;
            }
            .word-item {
                padding: 4px 8px;
                background: white;
                border: 1px solid var(--border);
            }

            .bold {
                font-weight: bold;
                color: var(--orange);
            }

            button {
                background: var(--orange);
                color: white;
                border: none;
                padding: 10px 20px;
                cursor: pointer;
                margin-top: 20px;
            }
            #description {
                margin-bottom: 30px;
                line-height: 1.5;
                max-width: 800px;
                color: var(--text);
                border-left: 3px solid var(--orange);
                padding-left: 15px;
            }
            .header-links {
                display: flex;
                gap: 10px; /* Adds space between the two buttons */
                margin-left: auto; /* Ensures they stay on the right */
            }
        </style>
    </head>
    <body>
        <div class="header-container">
            <h1>Two Talk</h1>
            <div class="header-links">
                <a
                    href="https://www.twotalk.org/TwoTalkGuide.pdf"
                    class="basic-link"
                    target="_blank"
                    >Guide</a
                >
                <a href="http://www.twotalk.org" class="basic-link">Simple</a>
            </div>
        </div>

        <div id="description">
            Two Talk is a minimalist, logographic system designed for zero-bias
            observation. It treats communication as a data stream where reality
            is mapped through structural constraints rather than sentiment. By
            stripping away adjectives of value, it forces the speaker to
            describe utility, movement, and state. While every word consists of
            two symbols, the language utilizes grammatical anchors for tense and
            a recursive dot-link for high-resolution technical concepts. It is a
            language of verified witness, where every statement concludes not
            with judgment, but with a technical log of proof. Learn more in the
            Two Talk
            <a href="https://www.twotalk.org/TwoTalkGuide.pdf" target="_blank"
                >guide</a
            >.
        </div>

        <div class="top-row">
            <div class="box">
                <h3>Roots</h3>
                <div class="roots-table" id="rootsList"></div>
                <div
                    id="rootsFooter"
                    style="
                        margin-top: 15px;
                        font-style: italic;
                        font-size: 0.9em;
                        border-top: 1px solid var(--border);
                        padding-top: 10px;
                    "
                >
                    While Two Talk is visually represented by 14 symbols, it is
                    a fully spoken language. Each symbol corresponds to a unique
                    phonetic sound, allowing for "Two-Beat" words. It is spoken
                    in flat, even beats per symbol, with no lexical stress; only
                    anchors add initial emphasis and proof markers control final
                    intonation.
                </div>
            </div>
            <div class="box">
                <h3>Rules & Grammar</h3>
                <pre id="onboarding"></pre>
            </div>
        </div>

        <h3>Dictionary</h3>
        <input type="text" id="search" placeholder="Filter concepts..." />
        <div class="word-list" id="wordList"></div>

        <button id="exportBtn">Export Guide (.txt)</button>

        <script>
            const roots = [
                { s: "@", l: "Agent", h: '"ah"' },
                { s: "#", l: "Matter", h: '"bo"' },
                { s: ":", l: "Time", h: '"de"' },
                { s: "^", l: "Space", h: '"fo"' },
                { s: "*", l: "Action", h: '"ki"' },
                { s: '"', l: "Data", h: '"mi"' },
                { s: "+", l: "Gain", h: '"na"' },
                { s: "-", l: "Loss", h: '"tu"' },
                { s: "!", l: "Fact", h: '"re"' },
                { s: "?", l: "Query", h: '"so"' },
                { s: "<", l: "Source", h: '"la"' },
                { s: ">", l: "Goal", h: '"go"' },
                { s: "=", l: "Stable", h: '"mu"' },
                { s: "&", l: "Logic", h: '"lo"' },
            ];

            const rulesManifesto = `RULES:
1. No Opinions: Do not use words like "good" or "bad." Only describe if something is working (Utility) or failing (Risk).
2. Describe States: Describe things by how they move or change. Instead of "broken," say "the action has stopped" (*-).
3. Prove It: Every sentence must end with a proof marker. Use !! if you saw it happen (Fact) or ?? if you are guessing (Hypothesis).
4. People vs. Objects: Only use the @ symbol for things that can make choices. Use # for everything else.
5. Past is Fact: Treat the past as something you saw and the future as a guess.
6. Trace the Source: Always record where your information came from using the < symbol.

GRAMMAR:
1. Two-Symbol Words: Every word must be exactly two symbols long. Single symbols do not count as words.
2. Use Anchors: Put Time (:) or Logic (&) symbols before a word to change its meaning, like changing tense (Past/Future).
3. Making Nouns: Combine an Action (*) and Matter (#) with a dot to create a noun (e.g., "moving object").
4. Sentence Order: Write sentences in this order: [Who] [Did What] [To What] [Proof].
5. The Dot-Link (.): Use a period to stack symbols together to describe complex technical ideas.
6. Logic Order: Follow this order: NOT (!) happens first, then AND (&), then OR (|), then IF/THEN (>). Proof markers always come last.`;

            const dictionary = {
                // @ : Agent (ah)
                "@@": "I / Self / Internal-Observer",
                "@#": "Body / Biological-Vessel",
                "@:": "Creator / Parent / Mentor",
                "@^": "Traveler / Nomad / Commuter",
                "@*": "Worker / Acting-Agent / Employee",
                '@"': "Messenger / Signaling-Agent / Teacher",
                "@+": "We / Team / Family / Group",
                "@-": "Enemy / Rival / Competitor",
                "@!": "Individual / Person / Citizen",
                "@?": "Identity / Subject-Query",
                "@<": "Ancestor / Source-Agent",
                "@>": "Descendant / Child / Successor",
                "@=": "Partner / You / Colleague / Peer",
                "@&": "Team / Department / Association",

                // # : Matter (bo)
                "#@": "Tame-Matter / Domestic-Animal",
                "##": "One / Unit / Single-Object",
                "#:": "Hard-Matter / Bone / Structural-Support",
                "#^": "Air-Matter / Bird / Atmosphere-Entity",
                "#*": "Action-Matter / Tool / Equipment / Apparatus",
                '#"': "Data-Matter / Book / / File / Document",
                "#+": "Two / Pair / Dual-System",
                "#-": "Waste / Trash / Byproduct",
                "#!": "Beast / Wild-Animal / Bio-Organism",
                "#?": "Object / Mystery-Matter / Sample",
                "#<": "Raw-Material / Input / Ingredient",
                "#>": "Product / Output / Deliverable",
                "#=": "Stable-Matter / Stone / Foundation",
                "#&": "Conductive-Matter / Metal / Hardware",

                // : : Time (de)
                ":@": "Life / Vitality / Agent-Time / Pulse",
                ":#": "Age / Matter-Time / Durability",
                "::": "Now / Present / Current-Timestamp",
                ":^": "Season / Space-Time / Quarter / Term",
                ":*": "Event / Action-Time / Shift / Session",
                ':"': "History / Data-Time / Log / Archive",
                ":+": "Day / Light-Time / Peak-Activity",
                ":-": "Night / Dark-Time / Low-Power-Phase",
                ":!": "Moment / Fact-Time / Deadline / Instant",
                ":?": "Duration / When / Time-Query",
                ":<": "Past / Source-Time / Background",
                ":>": "Future / Goal-Time / Prognosis / Schedule",
                ":=": "Year / Stable-Time / Cycle / Annual",
                ":&": "Era / Logic-Time / Phase / Paradigm",

                // ^ : Space (fo)
                "^@": "Base / Home / Office / Station",
                "^#": "Earth / Soil / Ground / Terrain",
                "^:": "Distance / Gap / Range",
                "^^": "Universe / All-Space / Environment / Exterior",
                "^*": "Path / Action-Space / Workflow / Route",
                '^"': "Map / Data-Space / Blueprint / Org-Chart",
                "^+": "High / Up / Ceiling / Superior-Level",
                "^-": "Low / Down / Floor / Inferior-Level",
                "^!": "Fire / Hot-Space / Kinetic-Heat / Warning-Zone",
                "^?": "Where / Space-Query / Coordinate",
                "^<": "Left / Source-Space / Origin",
                "^>": "Right / Goal-Space / Target",
                "^=": "Center / Stable-Space / Core / Room",
                "^&": "Network / Logic-Space / Grid / Infrastructure",

                // * : Action (ki)
                "*@": "Help / Support / Agent-Action",
                "*#": "Build / Make / Synthesis / Repair",
                "*:": "Wait / Delay / Time-Action / Latency",
                "*^": "Move / Go / Transport / Flow",
                "**": "Work / Project / Systematic-Task",
                '*"': "Say / Speak / Transmit / Signal",
                "*+": "Grow / Gain / Expand / Develop",
                "*-": "Stop / Die / Cease / Terminate",
                "*!": "Force / Kill / Impact / Acute-Change",
                "*?": "See / Perceive / Observe / Monitor",
                "*<": "Consume / Eat / Ingest / Data-Intake",
                "*>": "Take / Hit / Extract / Capture",
                "*=": "Rest / Sit / Standby / Sleep / Stasis",
                "*&": "Think / Know / Process / Analyze",

                // \" : Data (mi)
                '"@': "Name / Agent-Data / Identity",
                '"#': "Price / Matter-Data / Value-Metric",
                '":': "Date / Time-Data / Timestamp",
                '"^': "Address / Space-Data / Location-Tag",
                '"*': "Skill / Action-Data / Procedure / Protocol",
                '""': "Language / Logic-Data / Code / Syntax",
                '"+': "White / Max-Data / Full-Signal",
                '"-': "Black / Min-Data / No-Signal",
                '"!': "Red / Warning-Data / Error / Alarm / Pain",
                '"?': "Truth / Query-Data / Verification",
                '"<': "Source-Code / Input-Data / Lesson",
                '">': "Objective / Goal-Data / Plan / Intent",
                '"=': "Standard / Norm / Benchmark / Fact",
                '"&': "Theory / Logic-Data / Diagnosis / Rule",

                // + : Gain (na)
                "+@": "Mentor / Gain-Agent / Provider",
                "+#": "Asset / Gain-Matter / Resource / Tooling",
                "+:": "Fast / Gain-Time / Efficiency",
                "+^": "Big / Gain-Space / Expansion / Sprawl",
                "+*": "Speed / Gain-Action / Acceleration",
                '+"': "News / Gain-Data / Update / Discovery",
                "++": "Many / More / Surplus / Abundance",
                "+-": "Trade / Exchange / Transaction",
                "+!": "Win / Victory / Achievement / Success",
                "+?": "Curiosity / Hope / Gain-Query",
                "+<": "Birth / Source-Gain / Generation",
                "+>": "Profit / Reward / Outcome / Bonus",
                "+=": "Health / Immunity / Stable-Gain / Resilience",
                "+&": "Proof / Logic-Gain / Validation",

                // - : Loss (tu)
                "-@": "Victim / Loss-Agent / Off-boarded",
                "-#": "Debt / Loss-Matter / Deficiency / Scarcity",
                "-:": "Slow / Loss-Time / Inefficiency / Delay",
                "-^": "Small / Loss-Space / Compression / Narrow",
                "-*": "Fail / Loss-Action / Error / Malfunction",
                '-"': "Lie / Loss-Data / Disinformation",
                "--": "Few / Less / Depletion / Reduction",
                "-+": "Correction / Loss-Gain / Trim",
                "-!": "Conflict / War / Risk / Acute-Trauma",
                "-?": "Doubt / Fear / Query-Loss",
                "-<": "Decay / Source-Loss / Erosion",
                "->": "End / Goal-Loss / Termination / Deadline",
                "-=": "Sick / Loss-Stable / Decay / Clutter",
                "-&": "Error / Logic-Loss / Miscalculation",

                // ! : Fact (re)
                "!@": "Judge / Fact-Agent / Authority",
                "!#": "Evidence / Fact-Matter / Inventory / Metric",
                "!:": "Law / Fact-Time / Regulation / Schedule",
                "!^": "Border / Fact-Space / Limit / Threshold",
                "!*": "Force / Fact-Action / Execution",
                '!"': "Proof / Fact-Data / Report / Census",
                "!+": "Benefit / Fact-Gain / Advantage",
                "!-": "Risk / Fact-Loss / Danger",
                "!!": "Truth / Reality / Verified-State",
                "!?": "Logic-Check / Audit",
                "!<": "Origin / Source-Fact / Root-Cause",
                "!>": "Result / Goal-Fact / Conclusion",
                "!=": "Certainty / Stability / Homeostasis / Contract",
                "!&": "Definition / Axiom / Principle",

                // ? : Query (so)
                "?@": "Stranger / Unknown-Agent / Outsider",
                "?#": "Mystery / Unknown-Matter / Sample / Void",
                "?:": "When / Time-Query / Duration",
                "?^": "Where / Space-Query / Horizon",
                "?*": "Experiment / Action-Query / Test / Trial",
                '?"': "Question / Inquiry / Data-Query",
                "?+": "Hope / Potential-Gain / Query-Gain",
                "?-": "Fear / Potential-Loss / Query-Loss",
                "?!": "Hypothesis / Fact-Query / Logic-Check",
                "??": "Void / Investigation / Query-Query",
                "?<": "Cause / Source-Query / Rationale",
                "?>": "Purpose / Goal-Query / Vision",
                "?=": "Status / Stable-Query / Balance-Check",
                "?&": "Why / Logic-Query / Reasoning",

                // < : Source (la)
                "<@": "Teacher / Source-Agent / Expert",
                "<#": "Seed / Source-Matter / Ingredient",
                "<:": "Start / Source-Time / Launch",
                "<^": "West / Source-Space / Origin-Direction",
                "<*": "Birth / Source-Action / Initiation",
                '<"': "Lesson / Source-Data / Input-Stream",
                "<+": "Inflow / Source-Gain / Revenue",
                "<-": "Leak / Source-Loss / Drain",
                "<!": "Root-Cause / Fundamental-Fact",
                "<?": "Inquiry / Source-Query / Research",
                "<<": "Past / Back / History",
                "<>": "Link / Connection / Feedback",
                "<=": "Tradition / Source-Stable / Legacy / Base-Code",
                "<&": "Principle / Logic-Source / Axiom",

                // > : Goal (go)
                ">@": "Leader / Goal-Agent / Manager",
                ">#": "Target / Goal-Matter / Objective / Deliverable",
                ">:": "Deadline / Goal-Time / Appointment",
                ">^": "East / Goal-Space / Target-Direction",
                ">*": "Task / Goal-Action / Assignment",
                '>"': "Plan / Goal-Data / Strategy",
                ">+": "Reward / Goal-Gain / Bonus / Win",
                ">-": "Penalty / Goal-Loss / Fine",
                ">!": "Success / Fact-Goal / Completion",
                ">?": "Vision / Goal-Query / Prediction",
                "><": "Return / Cycle / Loop",
                ">>": "Front / Future / Forward",
                ">=": "Peace / Goal-Stable / Agreement / Sign-off",
                ">&": "Conclusion / Logic-Goal / Summary",

                // = : Stable (mu)
                "=@": "Friend / Stable-Agent / Colleague",
                "=#": "Box / Stable-Matter / Container / Storage",
                "=:": "Wait / Stable-Time / Duration / Stasis",
                "=^": "Room / Stable-Space / Zone / Station",
                "=*": "Habit / Stable-Action / Routine / Protocol",
                '="': "Fact / Stable-Data / Record",
                "=+": "Safe / Stable-Gain / Security / Health",
                "=-": "Dead / Stable-Loss / Exhausted",
                "=!": "Iron / Stable-Fact / Rigidity",
                "=?": "Balance / Stable-Query / Equilibrium",
                "=<": "Core / Stable-Source / Foundation",
                "=>": "Shell / Stable-Goal / Protection",
                "==": "Same / Identity / Equality",
                "=&": "Symmetry / Logic-Stable / Consistency",

                // & : Logic (lo)
                "&@": "System / Agent-Logic / Organization / Hierarchy",
                "&#": "Code / Matter-Logic / Software / Hardware-Logic",
                "&:": "Pattern / Time-Logic / Schedule / Rhythm",
                "&^": "Map / Space-Logic / Logistics / Layout",
                "&*": "Process / Action-Logic / Method / Algorithm",
                '&"': "Math / Data-Logic / Computation",
                "&+": "Discovery / Logic-Gain / Logic-Proof",
                "&-": "Falsehood / Logic-Loss / Error",
                "&!": "Principle / Fact-Logic / Axiom / Law",
                "&?": "Condition / If / Case",
                "&<": "Then / Result / Consequence",
                "&>": "Or / Choice / Alternative",
                "&=": "And / Join / Conjunction",
                "&&": "All / Total-Logic / Integration",
            };
            function renderRoots() {
                let html = "";
                roots.forEach((r) => {
                    html += `<div class="root-row">
                                    <div class="root-cell bold">${r.s}</div>
                                    <div class="root-cell">${r.l}</div>
                                    <div class="root-cell" style="color: #888;">${r.h}</div>
                                </div>`;
                });
                document.getElementById("rootsList").innerHTML = html;
            }

            function renderRules() {
                document.getElementById("onboarding").innerText =
                    rulesManifesto;
            }

            function exportMarkdown() {
                const descriptionText =
                    document.getElementById("description").innerText;
                const rootsFooter =
                    document.getElementById("rootsFooter").innerText; // Get the new footer

                let md = "# Two Talk Guide\n\n";
                md += descriptionText + "\n\n";
                md += "## Rules & Grammar\n" + rulesManifesto + "\n\n";

                md += "## Roots\n";
                roots.forEach((r) => {
                    md += `${r.s} | ${r.l} | ${r.h}\n`;
                });

                md += "\n" + rootsFooter + "\n\n"; // Insert footer here

                md += "## Dictionary\n";
                Object.keys(dictionary)
                    .sort()
                    .forEach((p) => {
                        md += `${p} | ${dictionary[p]}\n`;
                    });

                const blob = new Blob([md], { type: "text/plain" });
                const url = URL.createObjectURL(blob);
                const link = document.createElement("a");
                link.href = url;
                link.download = "twotalk_guide.txt";
                link.click();
                URL.revokeObjectURL(url);
            }

            function renderWords(filter = "") {
                let html = "";
                const f = filter.toLowerCase();
                Object.keys(dictionary)
                    .sort()
                    .forEach((pair) => {
                        if (
                            pair.includes(f) ||
                            dictionary[pair].toLowerCase().includes(f)
                        ) {
                            const safePair = pair
                                .replace(/&/g, "&amp;")
                                .replace(/</g, "&lt;")
                                .replace(/>/g, "&gt;");
                            html += `<div class="word-item"><span class="bold">${safePair}</span> ${dictionary[pair]}</div>`;
                        }
                    });
                document.getElementById("wordList").innerHTML = html;
            }

            // Event Listeners
            document
                .getElementById("search")
                .addEventListener("input", (e) => renderWords(e.target.value));
            document
                .getElementById("exportBtn")
                .addEventListener("click", exportMarkdown); // THIS WAS MISSING

            renderRoots();
            renderRules();
            renderWords();
        </script>
        <style>
            footer {
                margin-top: 40px;
                padding: 20px 0;
                border-top: 1px solid var(--border);
                font-size: 0.85em;
                color: #666;
                text-align: center;
            }
            footer a {
                color: var(--orange);
                text-decoration: none;
            }
            footer a:hover {
                text-decoration: underline;
            }
        </style>

        <footer>
            <a href="http://www.twotalk.org">Two Talk</a> was created by
            <a href="http://www.barney.me">Barney Matthews</a>.
            <a href="http://www.twotalk.org/TwoTalkGuide.pdf">Guide</a>.
            <a href="https://github.com/barneyme/twotalk">Github</a>.
            <a href="http://www.twotalk.org/">Two Talk Simple</a>
        </footer>
    </body>
</html>
